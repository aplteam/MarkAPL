<!DOCTYPE html>
<html lang="en" style="scroll-behavior:smooth" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>MarkAPL for programmers</title>
<style media="screen">
html{-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}body{margin:0;font-family:Arial, sans-serif;background-color:#323232;font-size:16px;max-width:1000px;padding:0.83em;color:#DDD;margin-left:auto;margin-right:auto;overflow-wrap:break-word;line-height:1.4;}h1,h2,h3,h4,h5,h6{color:hsl(39,97%,83%);padding-left:0;}h1,h2,h3,h4{margin-bottom:0.88em;}h1{font-size:1.5em;margin:0.27em 0 1.11em 0;}h1 > code,h2 > code,h3 > code,h4 > code,h5 > code,h6 > code{font-size:1em;background-color:inherit;}h2{font-size:1.35em;margin:0.55em 0 0.55em 0;padding-top:0.55em;border-bottom:1px solid Silver;}nav h2{font-size:1.20em;margin:0 0 0.75em 0;}h3{margin:0;margin-top:0.75em;font-size:1.25em;}h4{font-size:1.2em;margin:0;margin-top:0.75em;}h5{font-size:1.15em;margin:0;margin-top:0.60em;padding:0;}h6{font-size:1em;margin:0;margin-top:0.60em;padding:0;}hr{border:0;border-top:1px solid silver;}a{color:#A3A3FF;margin:0;padding:0;vertical-align:baseline;}a:visited{color:hsl(270,70%,85%);}a:visited code{color:hsl(270,70%,85%);}a.autoheader_anchor{text-decoration:none;}img{margin-top:0.55em;margin-bottom:0.27em;}ul{list-style-type:disc;}dd{padding-top:0.25em;}p.first_dd{padding-top:0.25em;}li > ul,li > ol{padding-bottom:0;}li{margin-left:1.38em;margin-bottom:0.5em;}ul > li{margin-left:2.5em;}ol > li{margin-left:2.5em;}li ul{margin-left:0.55em;}li ul{margin-left:0.27em;}li p{padding:1px 0 0 0;margin:0.55em 0 0.27em 0;}ul, ol{padding:0;margin:0.5em -0.6em;}ul ul,ul ol,ol ol,ol ul{margin-top:0.5em;margin-left:-0.6em;}p{padding:0.6em 0 0 0;margin:0;}pre{position:relative;overflow:auto;padding:0.55em 0.35em 0.55em 0.35em;margin:0.55em 0 0.55em 0 !important;background-color:#1A1A1A;-moz-tab-size:4;tab-size:4;-o-tab-size:4;display:block;font-family:APLFont, monospace;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;border:1px solid silver;line-height:1;border-radius:5px;}pre > code{line-height:1.2;border:0;padding:0;margin:0;background-color:inherit;font-weight:normal;white-space:pre-wrap;}th code ,td code{color:#8B0000;background-color:inherit;padding:0.02em 0.3em;border-radius:5px;border:1px solid #737373;}a code{padding:0;font-size:1em;background-color:inherit;color:inherit;}nav code{background-color:inherit;font-weight:400;}code{font-family:APLFont, monospace;color:#FFC266;background-color:#1A1A1A;line-height:1.4;white-space:nowrap;margin:0 0.2em 0 0.2em;padding:0.02em 0.3em;border-radius:5px;}tbody tr:nth-child(even){background-color:#DAA520;border-bottom:0px solid silver;}tbody tr:nth-child(odd){background-color:#E6BD56;border-bottom:0px solid silver;}th{background-color:#C3941D;color:black;border-bottom:0px solid silver;}th, td{padding:0.3em 0.8em;font-weight:normal;}table td + td{border-left:0px solid silver;border-bottom:0px solid silver;}table th + th{border-left:0px solid silver;border-bottom:0px solid silver;}table{margin:0.75em 0;border-collapse:collapse;font-family:APLFont;font-size:1em;line-height:1.0;border:2px solid Black;}table a{color:blue;}table a:visited{color:blue;}thead th{color:black;background-color:#B68A1B;}td{color:black;}tfoot td{color:black;background-color:#B68A1B;}li > table{margin:0.55em 0 0.55em 0;}tr{margin:1.11em;}blockquote{border-left:0.27em solid silver;padding:0 0.25em;margin:0.5em 0.25em 0.80em 0.5em;}blockquote p:first-child{padding-top:0;}blockquote p:last-child{padding-bottom:0;}blockquote p{padding:0.25em;}blockquote ul li{margin-left:1.38em;}blockquote ol li{margin-left:1.38em;}li > blockquote{margin-left:0;}nav{background-color:#4C4C4C;border:1px solid Silver;padding:0.55em;margin:0.50em 0 1em 0;margin-right:0;overflow:hidden;font-size:1em;}nav#main_nav{width:auto;}nav ul{list-style-type:None;margin:0 1em 0.11em 0;padding:0;}nav ul,nav ul{margin-left:2em;}nav > ul ul{margin-left:2em;}nav a{color:#EDEDED;}nav a:visited{color:#B0B0B0;}nav ul li{margin:0 0 0.16em 0;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{line-height:1.5;padding:0;margin-top:0;margin-bottom:0;margin-left:2em;}nav p{font-weight:bold;font-size:1em;padding-top:0;margin-bottom:0.5em;}dl{margin-top:0.1em;margin-bottom:0.1em;}dt{margin-top:0.75em;margin-bottom:0.1em;font-weight:bold;}.toc-container{height:auto;margin:0;padding:0.5em 0.5em 0 0;}nav h2{font-size:1.5em;margin:0.27em 1em 0.27em 1em;}div.toc-container ul{margin-left:0.5em;margin-right:1em;padding-left:1em;}[type="checkbox"]{position:absolute;left:-9999px;}label{display:block;width:100%;height:1.1em;cursor:pointer;top:0;padding-left:1em;}div#footnotes_div p{line-height:1.2;padding-bottom:0;padding-top:0;}div#footnotes_div ol{padding-top:0;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.hide{transition:opacity 400ms, display 400ms;opacity:0;display:none;}.red{color:red;}.center{text-align:center;margin-left:auto;margin-right:auto;}.left{text-align:left;margin-right:0;}.right{text-align:right;margin-left:0;}.print_only{display:none;}div.leanpub{padding:0.83em 0.55em 1.11em 0;margin:0.55em 0 0 0.27em;overflow:auto;display:grid;grid-template-columns:auto 1fr;grid-gap:10px;}div.leanpub p:first-child,div.leanpub h1:first-child,div.leanpub h2:first-child,div.leanpub h3:first-child,div.leanpub ul:first-child,div.leanpub ol:first-child{padding-top:0;}div.leanpub_A{border:1px solid black;background-color:#4C004C;padding:0.55em;margin:1.11em 0 0.83em 0;color:#DDD;}div.leanpub h3,div.leanpub_A h3{font-size:1.2em;padding:0;margin:0;}div.leanpub h4,div.leanpub_A h4{font-size:1.1em;padding:0.27em 0 0 0;margin:0;}div.leanpub h5,div.leanpub h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A h5,div.leanpub_A h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub img{float:left;padding:0.5em;margin:0.5em 1em 0 0;clear:both;background-color:#CCCCFF;}div.leanpub tbody *{background-color:transparent;}div.leanpub p{padding:0.17em 0 0 0;margin:0;}span.leanpub_code{color:Red;}div.leanpub p{display:block;padding:0.44em 0 0 0;}div.leanpub > div{margin-left:3em;}pre[class*="language-"]{position:relative;margin:5px 0;padding:1.75em 0 1.75em 1em;}details summary{cursor:pointer;}details summary > *{display:inline;}div.accordion{border:1px solid silver;padding:0;margin:0.5em 0;background-color:#4C004C;}div.accordion > div{border:1px solid silver;padding:0.5em;margin:0 0;}div.accordion > div p,div.accordion > div ul,div.accordion > div ol,div.accordion > div img,div.accordion > div table{margin-block-end:0.1em;}div.collapsible{border:1px solid silver;padding:0.5em;margin:0.5em 0;background-color:#4C004C;}div.collapsible p,div.collapsible ul,div.collapsible ol,div.collapsible img,div.collapsible table{margin-block-end:0.1em;}ul.checkboxes{list-style:none;margin-left:-2em;padding-left:0;}li{text-indent:0;padding-left:0;line-height:1.4;}ul.checkboxes > li::before{content:"☐ ";}ul.checkboxes > li.checked::before{content:"☒ ";}pre > button{position:absolute;top:5px;right:5px;font-size:0.8em;padding:0.15em;border:1.25px solid #232326;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;}pre button:hover{cursor:pointer;background-color:#BCBABB;}#main_nav{position:relative;}#main_nav h2{font-size:1.2em;margin:0;padding:0.5em 0.5em 0em 0.5em;border-bottom:0px solid Silver;}#toc-toggle{position:absolute;top:1.1em;right:1em;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;}#toc-list{margin:1em 1em 0.25em 0;}sup, sub{text-decoration:none;}svg{padding:0.5em;background-color:#CCCCFF;}
</style>
<style media="print">
@page{margin:25mm 20mm 25mm 20mm;}body{font-family:"Times New Roman", serif;font-size:15pt;line-height:1.2;}h1{font-size:150%;}h2{font-size:124%;}h3{font-size:124%;}h4{font-size:116%;}h5{font-size:108%;}h6{font-size:100%;}nav h2{font-size:1em;}h1{margin:0 0 20pt 0;}h2{margin:15pt 0 3pt 0;}h3{margin:10pt 0 0pt 0;}h4{margin:10pt 0 0pt 0;}h5{margin:9pt 0 0pt 0;}h6{margin:9pt 0 0pt 0;}h1,h2,h3,h4,h5,h6{color:black;font-family:"Arial", "Sans";page-break-after:avoid;}h1 > code,h2 > code,h3 > code,h4 > code,h5 > code,h6 > code{font-size:100%;}h2{border-bottom:1pt solid Silver;padding-bottom:2pt;}.h_tag{page-break-after:avoid;break-after:avoid;}abbr[title]{border-bottom:0;text-decoration:none;}a{color:black;margin:0;padding:0;vertical-align:baseline;text-decoration:none;font-style:italic;}a.autoheader_anchor{text-decoration:none;font-style:normal;page-break-after:avoid;break-after:avoid;}ul{list-style-type:square;}ul, ol{padding:0;margin:0;margin-top:10pt;}li > ul,li > ol{padding-bottom:0;padding-top:0;}li{line-height:1.3;margin:2pt 5pt 2pt 13pt;}ul > li, ol > li{margin:0 0 0 15pt;}li ul{margin-left:5pt;}li ul,li ol{margin:0 3pt 0 3pt;}li p{padding:0;margin:2pt 0;line-height:1.3;}p,ul,ol{line-height:1.2;padding:3pt 0 0 0;margin:0;color:black;}ul,ol{margin-top:0;}pre{padding:3pt 6pt;margin:5pt 0;white-space:pre-wrap;background-color:#FAFAFA;border:1pt Silver solid;display:block;font-family:APLFont, monospace;page-break-inside:avoid;overflow:hidden;line-height:1;}pre code{background-color:#FAFAFA;color:Black;padding:0;margin:0;border:0;white-space:pre-wrap;overflow:hidden;}code{font-family:APLFont, monospace;line-height:1.2;font-size:12pt;color:#950000;padding:0 2pt;border:1pt solid silver;white-space:nowrap;margin:0 0.2em 0 0.2em;border-radius:5px;}table td + td{border-left:1pt solid silver;}table th + th{border-left:1pt solid silver;}th, td{padding:1pt 5pt;border:1pt solid silver;vertical-align:top;}table code{font-style:normal;padding-left:0;padding-right:0;}table{margin:0.75em 0;font-family:APLFont;font-size:12pt;padding:0;border:1pt solid silver;border-collapse:collapse;}li > table{margin:10pt 0 10pt 0;}tr{margin:20pt;}th{font-weight:bold;}tfoot td{font-weight:bold;}tbody tr:nth-child(even) td,thead tr th{border-bottom:1pt solid #949494;}blockquote{border-left:5pt solid silver;padding-left:5pt;margin:8pt 3pt 8pt 8pt;margin:0.5em 0.2em 0.5em 0.5em;}blockquote p{padding:0 0.25em;}nav{background-color:#f8f8f8;border:1pt solid Gray;width:auto;padding:5pt 5pt 5pt 0;margin:5pt 0;overflow:hidden;}nav ul{list-style-type:none;margin:6pt 0 3pt 0;padding:0;}nav ul li{margin-top:3pt;margin-bottom:3pt;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{line-height:1;padding:0;margin-top:0;margin-bottom:0;margin-left:8pt;}dl{margin-top:0;margin-bottom:10pt;}dt{margin-top:10pt;margin-bottom:0;font-weight:800;page-break-inside:avoid;}dd{margin-top:2pt;}label#hide_toc_label{font-size:65%;}.toc-container{background-color:inherit;}.toc-container h3{margin:0 0 2pt 7pt;}[type="checkbox"]{display:none;}label{display:block;width:100%;height:1.1em;top:0;padding-left:10pt;}a.external_link::before{content:" 🔗 ";}a.bookmark_link::before{content:" ➯";}a.mailto_link::before{content:" ✉"}nav a.bookmark_link{font-style:normal;}nav p{margin-left:10pt;font-weight:bold;font-size:9pt;}nav a{font-style:normal;}nav a.bookmark_link::before{content:"";}div#footnotes_div a::before{content:"";}div#footnotes_div a{font-style:normal;}div#footnotes_div{page-break-inside:avoid;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.hide{display:none;}.print{display:block;}.red{color:red;}.center{text-align:center;margin:0 auto;}.left{text-align:left;margin-right:0;}.right{text-align:right;margin-left:0;}.avoid_page_break{page-break-inside:avoid;}.page_break_before{page-break-before:always;}div.leanpub{margin:10pt 0 10pt 8pt;page-break-inside:avoid;display:grid;grid-template-columns:auto 1fr;grid-gap:10pt;align-items:top;}div.leanpub_A{border:1pt solid black;background-color:#f9f9f9;padding:5pt;margin:10pt 0 10pt 0;page-break-inside:avoid;}div.leanpub h3,div.leanpub_A h3{font-size:1.2em;padding:3pt 0 0 0;margin:0;}div.leanpub h4,div.leanpub_A h4{font-size:1.1em;padding:3pt 0 0 0;margin:0;}div.leanpub h5,div.leanpub h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub_A h5,div.leanpub_A h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 10pt 2pt 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub > div > h1:first-child{padding-top:5pt;}div.leanpub img{float:left;padding:0;margin:5pt 10pt 0 0;clear:both;}span.leanpub_code{font-weight:bold;}div.leanpub p{display:block;padding:3pt 0 0 0;margin:0;}div.leanpub p:first-child,div.leanpub h1:first-child,div.leanpub h2:first-child,div.leanpub h3:first-child,div.leanpub ul:first-child,div.leanpub ol:first-child{padding-top:0;}div.leanpub > div{margin-left:35pt;}sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;top:-0.4em;}pre[class*="language-"]{position:relative;margin:5pt 0;padding:1.75rem 0 1.75rem 1rem;}pre[class*="language-"] button{position:absolute;top:5pt;right:5pt;}div.accordion{padding:0;margin:0.5em 0;}div.accordion > div{border:1pt solid silver;padding:0.5em;margin:0 0;}div.accordion > div p,div.accordion > div ul,div.accordion > div ol,div.accordion > div img,div.accordion > div table{margin-block-end:0.1em;}summary{display:block;}div.collapsible{border:1pt solid silver;padding:0.5em;margin:0.5em 0;}div.collapsible p,div.collapsible ul,div.collapsible ol,div.collapsible img,div.collapsible table{margin-block-end:0.1em;}ul.checkboxes{list-style:none;margin-left:-2rem;padding-left:0;}li{padding-left:1rem;text-indent:0;}ul.checkboxes > li::before{content:"☐ ";}ul.checkboxes > li.checked::before{content:"☒ ";}pre > button{display:none;}#toc-toggle{display:none;}#main_nav h2{margin:0;padding:0.5em 1em;border-bottom:1pt solid silver;}}
</style>

</head>
<body>
<div class="h_tag">
<a href="#markapl-for-programmers" id="markapl-for-programmers" class="autoheader_anchor">
<h1 data-id="MarkAPL-for-Programmers">MarkAPL for Programmers</h1>
</a>
</div>
<nav id="main_nav" class="toc">
<h2 id="toc-heading">Table of contents</h2>
<button id="toc-toggle" aria-controls="toc-list" aria-expanded="false">Show</button>

<div class="toc-container">
<ul id="toc-list" class="hide print">
<li class="toc-entry toc-h2"><a href="#overview">1. Overview</a></li>
<li class="toc-entry toc-h2"><a href="#how-to">2. How to</a></li>
<li class="toc-entry toc-h2"><a href="#methods">3. Methods</a>
<ul>
<li class="toc-entry toc-h3"><a href="#convertmarkdownfile">3.1. <code>ConvertMarkdownFile</code></a></li>
<li class="toc-entry toc-h3"><a href="#createparms">3.2. <code>CreateParms</code></a></li>
<li class="toc-entry toc-h3"><a href="#createhelpparms">3.3. <code>CreateHelpParms</code></a></li>
<li class="toc-entry toc-h3"><a href="#execute">3.4. <code>Execute</code></a></li>
<li class="toc-entry toc-h3"><a href="#help">3.5. <code>Help</code></a></li>
<li class="toc-entry toc-h3"><a href="#init">3.6. <code>Init</code></a></li>
<li class="toc-entry toc-h3"><a href="#makehtml_doc">3.7. <code>MakeHTML_Doc</code></a></li>
<li class="toc-entry toc-h3"><a href="#markdown2html">3.8. <code>MarkDown2HTML</code></a></li>
<li class="toc-entry toc-h3"><a href="#process">3.9. <code>Process</code></a></li>
<li class="toc-entry toc-h3"><a href="#ref_method">3.10. <code>Reference</code></a></li>
<li class="toc-entry toc-h3"><a href="#version">3.11. <code>Version</code></a></li>
</ul></li>
<li class="toc-entry toc-h2"><a href="#parameters">4. Parameters</a></li>
<li class="toc-entry toc-h2"><a href="#function-calls">5. Function calls</a></li>
<li class="toc-entry toc-h2"><a href="#the-ns-namespace">6. The <code>ns</code> namespace.</a>
<ul>
<li class="toc-entry toc-h3"><a href="#ov4">6.1. Overview</a></li>
<li class="toc-entry toc-h3"><a href="#ns_details">6.2. The ns namespace in detail</a></li>
</ul></li>
<li class="toc-entry toc-h2"><a href="#helpers">7. Helpers</a>
<ul>
<li class="toc-entry toc-h3"><a href="#matrix2markdownlist">7.1. <code>Matrix2MarkdownList</code></a></li>
<li class="toc-entry toc-h3"><a href="#matrix2markdowntable">7.2. <code>Matrix2MarkdownTable</code></a></li>
</ul></li>
<li class="toc-entry toc-h2"><a href="#problems">8. Problems</a>
<ul>
<li class="toc-entry toc-h3"><a href="#bugs">8.1. Bugs</a></li>
<li class="toc-entry toc-h3"><a href="#unexpected-results">8.2. Unexpected results</a>
</li></ul></li>
</ul>
</div>
</nav>
<div class="h_tag">
<a href="#overview" id="overview" class="autoheader_anchor">
<h2 data-id="Overview">1. Overview</h2>
</a>
</div>
<p>This document is relevant for APL programmers using <code>MarkAPL</code> within an APL application. If you're using it implicitly, such as editing a Markdown file with Meddy[<a href="#fnref1" class="footnote_link"><sup>1</sup></a>], the cheat sheet and <code>MarkAPL</code> reference document should be sufficient.</p>
<div class="h_tag">
<a href="#how-to" id="how-to" class="autoheader_anchor">
<h2 data-id="How-to">2. How to</h2>
</a>
</div>
<p>One approach to learn about <code>MarkAPL</code> is to trace through the method <code>MarkAPL.Help</code>.</p>
<div class="leanpub_A">
<h3>The MarkAPL project</h3>
<p>Alternatively you can explore the test cases named <code>Test_Examples_01</code> etc. To do that you need to take a copy of the <a href="https://github.com/aplteam/MarkAPL" class="external_link"><code>MarkAPL</code> project on GitHub</a> and open it with the project manager <a href="https://github.com/aplteam/Cider" class="external_link" title="Link to Cider on GitHub">Cider</a> which is available as a <a href="https://tatin.dev" class="external_link" title="Link to the principal Tatin registry">Tatin package</a>.</p>
<pre tabindex="0"><code>]Cider.OpenProject /path/2/MarkAPL-clone
#.MarkAPL.TestCases.Prepare
1 T.RunThese 'Examples'</code></pre>
<p>The left argument makes sure that the test suite stops just before a particular test case is executed, allowing you to trace through the test cases.</p>
</div>

<div class="h_tag">
<a href="#methods" id="methods" class="autoheader_anchor">
<h2 data-id="Methods">3. Methods</h2>
</a>
</div>
<p>Note that <a href="#helpers" class="bookmark_link">helpers</a> are discussed separately.</p>
<div class="h_tag">
<a href="#convertmarkdownfile" id="convertmarkdownfile" class="autoheader_anchor">
<h3 data-id="ConvertMarkdownFile">3.1. <code>ConvertMarkdownFile</code></h3>
</a>
</div>
<p>This method takes a filename as right argument. It expects the file to contain Markdown content.</p>
<p>By default a fully-fledged HTML page is created from that Markdown file with exactly the same filename except that the file extension is <code>.html</code> rather than <code>.md</code>.</p>
<p>However, instead of accepting the default parameters one can create a parameter namespace with:</p>
<pre tabindex="0"><code>parms←MarkAPL.CreateParms</code></pre>
<p>and then amend parameters within <code>parms</code>. That parameter space <code>parms</code> then needs to be passed as left argument to the <code>ConvertMarkdownFile</code> method.</p>
<p>Note that <code>inputFilename</code> <strong>must not</strong> be specified, otherwise an error is signalled. This is because the input file is already defined by the right argument.</p>
<div class="h_tag">
<a href="#createparms" id="createparms" class="autoheader_anchor">
<h3 data-id="CreateParms">3.2. <code>CreateParms</code></h3>
</a>
</div>
<p>This niladic function returns a namespace populated with parameters and their default values.</p>
<p><code>CreateParms</code> tries to find for every parameter a value from the command line or environment variables. If it cannot find them it will establish a default value.</p>
<p>The namespace returned by the <code>CreateParms</code> method has a built-in method <code>∆List</code> which is niladic and will return a matrix with two columns, the parameter name in the first column and the default value in the second column.</p>
<p>Note that a value of <code>¯1</code> means that there is not really a default available, but a reasonable value will be determined at a later stage, usually depending on the context.</p>
<div class="h_tag">
<a href="#createhelpparms" id="createhelpparms" class="autoheader_anchor">
<h3 data-id="CreateHelpParms">3.3. <code>CreateHelpParms</code></h3>
</a>
</div>
<p>This niladic function returns a namespace with parameters with default values. Internally it calls <code>CreateParms</code> and then adds some parameters that are required by the <a href="#help" class="bookmark_link"><code>Help</code></a> and <a href="#ref_method" class="bookmark_link"><code>Reference</code></a> methods.</p>
<div class="h_tag">
<a href="#execute" id="execute" class="autoheader_anchor">
<h3 data-id="Execute">3.4. <code>Execute</code></h3>
</a>
</div>
<p>This function is used exclusively by test cases.</p>
<div class="h_tag">
<a href="#help" id="help" class="autoheader_anchor">
<h3 data-id="Help">3.5. <code>Help</code></h3>
</a>
</div>
<p>The function takes a Boolean right argument:</p>
<ul>
<li>0 displays “MarkAPL_CheatSheet.html” with your default browser</li>
<li>1 forces <code>Help</code> to recompile the file “MarkAPL_CheatSheet.md” into “MarkAPL_CheatSheet.html” and displays it with your default browser</li>
</ul>
<p>You might specify an optional left argument: a parameter space, typically created by calling the <code>CreateHelpParms</code> method. This allows creating a document with non-default parameters. Of course this has only an effect when the right argument is a 1.</p>
<p>Note that the file “MarkAPL_CheatSheet.html” carries several embedded parameters — those cannot be overridden by a parameter namespace unless you assign a 1 to <code>ignoreEmbeddedParms</code>.</p>
<p>In order to enable <code>Help</code> to find the file “Markdown_CheatSheet.html” (in case the defaults don't work) you must create a parameter space and then set <code>homeFolder</code> accordingly.</p>
<p>If you specify a 1 as right argument but <code>Help</code> can only find the HTML file but not the Markdown file it will ignore the right argument and just put the file on display with your default browser.</p>
<div class="h_tag">
<a href="#init" id="init" class="autoheader_anchor">
<h3 data-id="Init">3.6. <code>Init</code></h3>
</a>
</div>
<p>Takes a two-item-vector as right argument:</p>
<ol start="1">
<li>A parameter namespace, typically created by calling <code>CreateParms</code>.</li>
<li>A vector of character vectors: the Markdown.</li>
</ol>
<p>Returns <a href="#the-ns-namespace" class="bookmark_link">the “ns” namespace</a>.</p>
<p>Note that after executing <code>Init</code> <a href="#report" class="bookmark_link"><code>ns.report</code></a> might well carry warnings that are misleading. An example for this are links inside a LeanPub block: because the LeanPub stuff is already converted in <code>Init</code>, <code>MarkAPL</code> cannot (yet) judge whether the links are okay or not.</p>
<p>Therefore at the end of converting the full document the warnings are investigated again, and any warnigns that are now obsolete are removed.</p>
<div class="h_tag">
<a href="#makehtml_doc" id="makehtml_doc" class="autoheader_anchor">
<h3 data-id="MakeHTML_Doc">3.7. <code>MakeHTML_Doc</code></h3>
</a>
</div>
<p>Takes HTML, typically created by calling <code>Process</code>, and makes it a fully fledged HTML document by adding <code>&lt;body&gt;</code>, <code>&lt;head&gt;</code> — with <code>&lt;title&gt;</code> — and <code>&lt;html&gt;</code> with the DocType.</p>
<div class="h_tag">
<a href="#markdown2html" id="markdown2html" class="autoheader_anchor">
<h3 data-id="MarkDown2HTML">3.8. <code>MarkDown2HTML</code></h3>
</a>
</div>
<p>This ambivalent function requires some Markdown as right argument.</p>
<p>It returns (since version 1.7.0) a two-item vector (shy):</p>
<ul>
<li>The HTML.</li>
<li>The <code>ns</code> namespace. This allows you to check <code>ns.report</code> for problems.</li>
</ul>
<p>Without an — optional — left argument it creates just the HTML from the Markdown.</p>
<p>However, you can also create a parameter space by calling <code>CreateParms</code> and set <code>outputFilename</code>. In that case it will create a fully-fledged HTML page from the Markdown and write it to that file. The generated page is also returned as result.</p>
<p>Finally one can also set the <code>inputFilename</code> parameter. This trumps the right argument: it reads the input file, expecting it to be Markdown, creates HTML5 from it and write it to the output file. Again the HTML is also returned as result.</p>
<p>Internally it calls <code>Init</code> &amp; <code>Process</code> &amp; <code>MakeHTML_Doc</code>.</p>
<p>Note that in case the parameter <code>createFullHtmlPage</code> is <code>¯1</code> (the default value which means “undefiend”) the default behaviour of <code>MarkDown2HTML</code> is defined by the setting of the parameter <code>outputFilename</code>: if <code>outputFilename</code> is not empty then <code>createFullHtmlPage</code> will default to 1, otherwise to 0, and that's what <code>Markdown2HTML</code> will take into account.</p>
<div class="h_tag">
<a href="#process" id="process" class="autoheader_anchor">
<h3 data-id="Process">3.9. <code>Process</code></h3>
</a>
</div>
<p>This function takes — and returns — an <code>ns</code> namespace which was typically created by calling <code>Init</code>.</p>
<div class="h_tag">
<a href="#ref_method" id="ref_method" class="autoheader_anchor">
<h3 data-id="ref_method">3.10. <code>Reference</code></h3>
</a>
</div>
<p>The function takes a Boolean right argument:</p>
<ul>
<li>A 0 just views “MarkAPL.html” with your default browser.</li>
<li>A 1 forces it to recompile the file “MarkAPL.md” into “MarkAPL.html” and then puts it on display with your default browser.</li>
</ul>
<p>You might specify an optional left argument: a parameter space, typically created by calling the <code>CreateHelpParms</code> method. This allows creating a help file with non-default parameters. Of course this has only an effect when the right argument is a 1.</p>
<p>Note that the file “MarkAPL.html” carries several embedded parameters — those cannot be overridden by a parameter namespace unless you assign a 1 to <code>ignoreEmbeddedParms</code>.</p>
<p>In order to enable <code>Reference</code> to find the file “MarkAPL.html” (in case the defaults don't work) you must create a parameter space and then set <code>homeFolder</code>.</p>
<p>If you specify a 1 as right argument but <code>Reference</code> can only find the HTML file but not the Markdown file it will ignore the right argument and just put the file on display with your default browser.</p>
<div class="h_tag">
<a href="#version" id="version" class="autoheader_anchor">
<h3 data-id="Version">3.11. <code>Version</code></h3>
</a>
</div>
<p>Returns the name, the version number — including the build-ID — and the version date of <code>MarkAPL</code>.</p>
<div class="h_tag">
<a href="#parameters" id="parameters" class="autoheader_anchor">
<h2 data-id="Parameters">4. Parameters</h2>
</a>
</div>
<p>In order to specify parameters execute this:</p>
<pre tabindex="0"><code>      parms←MarkAPL.CreateParms''</code></pre>
<p><code>parms</code> is a namespace that contains all variables that cen be used.</p>
<p>You can list them with their default values:</p>
<pre tabindex="0"><code>      parms.∆List
 bookmarkLink                                                    6
 bookmarkMayStartWithDigit                                       1
 charset                                                     utf-8
 checkFootnotes                              ⍝ defaults to "debug"
 checkLinks                                  ⍝ defaults to "debug"
 compressCSS                                                     1
 copy2ClipboardBtn                                               1
 createFullHtmlPage                                              0
 cssURL                                                         ¯1
 debug                                 ⍝ 0 in Runtime, 1 otherwise
 div_h_tag                                                       1
 enforceEdge                                                     1
 footnotesCaption                                      'Footnotes'
 head                                                           ''
 homefolder                                                     ¯1
 ignoreEmbeddedParms                                             0
 imageURL                                                       ''
 inputFilename
 javaScript                                                      1
 lang                                                         "en"
 leanpubExtensions                                               0
 lineNumberOffset                                                0
 linkToCSS                                                       0
 lowercaseID                                                     1
 markdownStrict                                                  0
 noCSS                                                           0
 numberHeaders                                                   0
 outputFilename
 printCSS                                           Dark_print.css
 reportLinks                                                     0
 reportLinksCaption                                  'Link report'
 saveHTML                                                       ¯1
 screenCSS                                         Dark_screen.css
 smoothScrolling                                                 1
 subTocs                                                         1
 syntaxSugar                                                     1
 title                                                     MarkAPL
 toc                                                             0
 tocCaption                                      Table of Contents
 verbose                                                         1
 width                                                         900</code></pre>
<p>The function <code>∆List</code> lists all the variables in the parameter space with their corresponding values.</p>
<p>After making amendments the parameter space can be passed as the first argument to the <code>MarkAPL.Init</code> function. See <a href="#how-to" class="bookmark_link">How-to</a> for details.</p>
<p>The parameters themselves are discussed in the <code>MarkAPL</code> reference.</p>
<div class="h_tag">
<a href="#function-calls" id="function-calls" class="autoheader_anchor">
<h2 data-id="Function-calls">5. Function calls</h2>
</a>
</div>
<p>It is possible to embed APL function calls in your Markdown document. The simplest way to call a function <code>#.foo</code> is:</p>
<pre tabindex="0"><code>This: ⍎⍎#.foo⍎⍎ is the result.</code></pre>
<p>Given a function <code>#.foo←{'FOO'}</code> this will be the result:</p>
<pre tabindex="0"><code>This: FOO is the result.</code></pre>
<p>The purpose of this feature is to either inject simple text or one or more HTML blocks.</p>
<p>Notes:</p>
<ul>
<li>You cannot inject Markdown block elements like lists, code blocks, block quotes, etc: it won't be processed anymore when the function is called. However, inline markup (<code>**</code>, <code>_</code>, <code>~~</code> etc) <strong>is</strong> recognized and processed, and so is typographical sugar.</li>
<li>The function name must always be fully qualified; that means the function cannot live in either a class instance or an unnamed namespace.</li>
<li>The <code>ns</code> namespace is <strong>always</strong> provided as right argument to the function, therefore the function must be either monadic or dyadic.</li>
</ul>
<p>You may specify something to the right as in this example:</p>
<pre tabindex="0"><code>This: ⍎⍎#.foo 1 2 'hello'⍎⍎ is the result.</code></pre>
<p>The array <code>1 2 'hello'</code> is however passed as <strong>left</strong> argument since <code>ns</code> is always passed as the right argument.</p>
<p>The result of such an embedded function must be one of:</p>
<ul>
<li>An empty vector.</li>
<li>Markdown (simple string or nested vector of text vectors).</li>
<li>An HTML block (nested vector of text vectors).</li>
</ul>
<p>Note that mixing Markdown and HTML blocks is <strong>not permitted</strong>.</p>
<p>In case the function returns an HTML block the function call must stand on its own on a line.</p>
<p>If an HTML block is returned then the function is responsible for the correct formatting. In particular a <code>&lt;pre&gt;</code> block <strong>must</strong> look like this otherwise you might not get the desired result:</p>
<pre tabindex="0"><code>&lt;pre&gt;&lt;code&gt;Line 1
Line 2
Last line
&lt;/code&gt;&lt;/pre&gt;</code></pre>
<p>Notes:</p>
<ul>
<li>If the function returns something that starts with a <code>&lt;</code> and ends with a corresponding tag then it is recognized as an HTML block. You can prevent that by adding leading spaces.</li>
<li>The <code>&lt;pre&gt;&lt;code&gt;</code> must go onto the same line as the first line of the code; otherwise you end up with a starting empty line. This is an HTML feature.</li>
<li>If the embedded function returns something with a depth different from 0, 1 or 2 an error is thrown.</li>
<li>Anything that is supposed to be recognized as an HTML block <strong>must not</strong> carry leading spaces: an HTML block starts by definition with a <code>&lt;</code> char.</li>
</ul>
<div class="h_tag">
<a href="#the-ns-namespace" id="the-ns-namespace" class="autoheader_anchor">
<h2 data-id="The-ns-namespace">6. The <code>ns</code> namespace.</h2>
</a>
</div>
<div class="h_tag">
<a href="#ov4" id="ov4" class="autoheader_anchor">
<h3 data-id="ov4">6.1. Overview</h3>
</a>
</div>
<p>The <code>ns</code> namespace is returned (created) by the <code>Init</code> method and modified by the <code>Process</code> method. It contains both input and output variables.</p>
<p>Before <code>Process</code> is run the variables <code>emptyLines</code>, <code>leadingChars</code>, <code>markdown</code>, <code>markdownLC </code>and <code>withoutBlanks</code> hold data that is extracted from the Markdown.</p>
<p><code>Process</code> then splits the Markdown into appropriate blocks, and processes them one after the other, and removes stuff accordingly from these variables.</p>
<p>At the same time the variable <code>parms.html</code> is collecting the resulting html. Other variables (<code>abbreviations</code>, <code>data</code>, <code>footnoteDefs</code>, <code>headers</code>, <code>linkRefs</code>, <code>parms</code>, <code>subToc</code> and <code>toc</code>) may or may not collect data in the process as well.</p>
<p>The two variables <code>report</code> and <code>lineNumber</code> are special, see there.</p>
<div class="h_tag">
<a href="#ns_details" id="ns_details" class="autoheader_anchor">
<h3 data-id="ns_details">6.2. The ns namespace in detail</h3>
</a>
</div>
<nav class="sub-toc">
<p>Topics:</p>
<ul>
<li><a href="#abbreviations" class="bookmark_link">6.2.1. <code>abbreviations</code></a></li>
<li><a href="#embeddedparms" class="bookmark_link">6.2.2. <code>embeddedParms</code></a></li>
<li><a href="#emptylines" class="bookmark_link">6.2.3. <code>emptyLines</code></a></li>
<li><a href="#footnotedefs" class="bookmark_link">6.2.4. <code>footnoteDefs</code></a></li>
<li><a href="#headerlinenos" class="bookmark_link">6.2.5. <code>headerLineNos</code></a></li>
<li><a href="#headers" class="bookmark_link">6.2.6. <code>headers</code></a></li>
<li><a href="#html" class="bookmark_link">6.2.7. <code>html</code></a></li>
<li><a href="#leadingchars" class="bookmark_link">6.2.8. <code>leadingChars</code></a></li>
<li><a href="#linenumbers" class="bookmark_link">6.2.9. <code>lineNumbers</code></a></li>
<li><a href="#linkrefs" class="bookmark_link">6.2.10. <code>linkRefs</code></a></li>
<li><a href="#markdown" class="bookmark_link">6.2.11. <code>markdown</code></a></li>
<li><a href="#markdownlc" class="bookmark_link">6.2.12. <code>markdownLC</code></a></li>
<li><a href="#noof" class="bookmark_link">6.2.13. <code>noOf</code></a></li>
<li><a href="#parms" class="bookmark_link">6.2.14. <code>parms</code></a></li>
<li><a href="#report" class="bookmark_link">6.2.15. <code>report</code></a></li>
<li><a href="#subtoc" class="bookmark_link">6.2.16. <code>subToc</code></a></li>
<li><a href="#ns_toc" class="bookmark_link">6.2.17. <code>toc</code></a></li>
<li><a href="#topofdocument" class="bookmark_link">6.2.18. <code>topOfDocument</code></a></li>
<li><a href="#withoutblanks" class="bookmark_link">6.2.19. <code>withoutBlanks</code></a></li>
</ul>
</nav>
<p>The namespace contains the following variables:</p>
<div class="h_tag">
<a href="#abbreviations" id="abbreviations" class="autoheader_anchor">
<h4 data-id="abbreviations">6.2.1. <code>abbreviations</code></h4>
</a>
</div>
<p>A (possibly empty) vector of two-item-vectors. The first item holds the abbreviation, the second item the explanation or comment.</p>
<div class="h_tag">
<a href="#embeddedparms" id="embeddedparms" class="autoheader_anchor">
<h4 data-id="embeddedParms">6.2.2. <code>embeddedParms</code></h4>
</a>
</div>
<p>A matrix with two columns and as many rows as there are embedded parameters.</p>
<p>This document for example carries these embedded parameters:</p>
<pre tabindex="0"><code>      ns.embeddedParms
 toc                                   2 3
 numberHeaders                   2 3 4 5 6
 bookmarkLink                            6
 smoothScrolling                         1
 saveHTML                                1
leanPubExtensions                        1
 title             MarkAPL for Programmers
 width                                1000
 reportLinks                             1</code></pre>
<div class="h_tag">
<a href="#emptylines" id="emptylines" class="autoheader_anchor">
<h4 data-id="emptyLines">6.2.3. <code>emptyLines</code></h4>
</a>
</div>
<p>A vector of Booleans indicating which lines in <code>markdown</code> are empty. Lines consisting of white-space characters only are considered empty.</p>
<div class="h_tag">
<a href="#footnotedefs" id="footnotedefs" class="autoheader_anchor">
<h4 data-id="footnoteDefs">6.2.4. <code>footnoteDefs</code></h4>
</a>
</div>
<p>A matrix that carries all footnote definitions found in <code>markdown</code>. The matrix has these columns:</p>
<ol start="1">
<li>Running number, starting from 1.</li>
<li>Bookmark name.</li>
<li>Caption.</li>
</ol>
<div class="h_tag">
<a href="#headerlinenos" id="headerlinenos" class="autoheader_anchor">
<h4 data-id="headerLineNos">6.2.5. <code>headerLineNos</code></h4>
</a>
</div>
<p>An integer vector that carries the line numbers of <code>headers</code>.</p>
<div class="h_tag">
<a href="#headers" id="headers" class="autoheader_anchor">
<h4 data-id="headers">6.2.6. <code>headers</code></h4>
</a>
</div>
<p>A matrix that carries all headers defined in <code>markdown</code>.</p>
<p>The matrix has three or four columns:</p>
<ol start="1">
<li>The level of the header, starting with 0.</li>
<li>The anchor-ready version of the caption.</li>
<li>The caption.</li>
<li>The tiered number of the header.</li>
</ol>
<p>Naturally the last column does not exist in case <code>numberHeaders</code> is 0.</p>
<div class="h_tag">
<a href="#html" id="html" class="autoheader_anchor">
<h4 data-id="html">6.2.7. <code>html</code></h4>
</a>
</div>
<p>After having created the <code>ns</code> namespace by calling <code>Init</code> this variable is empty. By running the <code>Process</code> method this variable will be filled up.</p>
<div class="h_tag">
<a href="#leadingchars" id="leadingchars" class="autoheader_anchor">
<h4 data-id="leadingChars">6.2.8. <code>leadingChars</code></h4>
</a>
</div>
<p>After having created the <code>ns</code> namespace by calling <code>Init</code> this variable contains a limited number of characters from <code>markdown</code>. Leading white-space is removed. This increases performance for many of the checks to be carried out by <code>Process</code>.</p>
<div class="h_tag">
<a href="#linenumbers" id="linenumbers" class="autoheader_anchor">
<h4 data-id="lineNumbers">6.2.9. <code>lineNumbers</code></h4>
</a>
</div>
<p>After having created the <code>ns</code> namespace by calling <code>Init</code> this variable contains a vector of integers representing line numbers in <code>markdown</code>. This allows the current line number to be reported in case there is a problem like odd number of double quotes, invalid internal links etc.</p>
<p>Notes:</p>
<ul>
<li>Function calls (See “Embedded APL function calls” in the <code>MarkAPL</code> reference) can access the line numbers as well</li>
<li>Line numbers refer to the MarkDown rather than the HTML</li>
<li>See also the parameter <code>lineNumberOffset</code> in the <code>MarkAPL</code> reference</li>
</ul>
<div class="h_tag">
<a href="#linkrefs" id="linkrefs" class="autoheader_anchor">
<h4 data-id="linkRefs">6.2.10. <code>linkRefs</code></h4>
</a>
</div>
<p>A vector of vectors holding information regarding all link references (see the <code>MarkAPL</code> reference for details regarding link references):</p>
<ol start="1">
<li>id</li>
<li>url</li>
<li>alt text or empty</li>
<li>special attributes or empty</li>
</ol>
<div class="h_tag">
<a href="#markdown" id="markdown" class="autoheader_anchor">
<h4 data-id="markdown">6.2.11. <code>markdown</code></h4>
</a>
</div>
<p>This variable holds the Markdown to be processed by <code>Process</code>.</p>
<div class="h_tag">
<a href="#markdownlc" id="markdownlc" class="autoheader_anchor">
<h4 data-id="markdownLC">6.2.12. <code>markdownLC</code></h4>
</a>
</div>
<p>Same as <code>markdown</code> but all in lower case. That speeds things up at the expense of memory.</p>
<div class="h_tag">
<a href="#noof" id="noof" class="autoheader_anchor">
<h4 data-id="noOf">6.2.13. <code>noOf</code></h4>
</a>
</div>
<p>The number of lines processed in the next (or current) step.</p>
<div class="h_tag">
<a href="#parms" id="parms" class="autoheader_anchor">
<h4 data-id="parms">6.2.14. <code>parms</code></h4>
</a>
</div>
<p>The parameters that were passed to <code>Init</code>.</p>
<div class="h_tag">
<a href="#report" id="report" class="autoheader_anchor">
<h4 data-id="report">6.2.15. <code>report</code></h4>
</a>
</div>
<p>After having created the <code>ns</code> namespace by calling <code>CreateParms</code> this variable is empty. Both the <code>Init</code> and the <code>Process</code> method might add remarks to this variable in case it finds something to complain about or comment on. However, you are advised to ignore warnings after having executed just <code>Init</code>.</p>
<p>Some methods print what they assign to <code>report</code> also to the session in case the parameter <code>verbose</code> is 1.</p>
<div class="h_tag">
<a href="#subtoc" id="subtoc" class="autoheader_anchor">
<h4 data-id="subToc">6.2.16. <code>subToc</code></h4>
</a>
</div>
<p>This is a vector of two-item vectors:</p>
<ol start="1">
<li>The level of the header, starting with 1.</li>
<li>The caption of the header as displayed.</li>
</ol>
<div class="h_tag">
<a href="#ns_toc" id="ns_toc" class="autoheader_anchor">
<h4 data-id="ns_toc">6.2.17. <code>toc</code></h4>
</a>
</div>
<p>This is a vector of <del>four</del> three-item vectors:</p>
<ol start="1">
<li>The level of the header, starting with 1.</li>
<li>The caption of the header as displayed.</li>
<li>The internal link name.</li>
</ol>
<p>Note that prior to version 2.8 there was a forth column (4. The type of the header: 1 = SeText, 2 = ATX.) which was removed then.</p>
<div class="h_tag">
<a href="#topofdocument" id="topofdocument" class="autoheader_anchor">
<h4 data-id="topOfDocument">6.2.18. <code>topOfDocument</code></h4>
</a>
</div>
<p>Used internally.</p>
<div class="h_tag">
<a href="#withoutblanks" id="withoutblanks" class="autoheader_anchor">
<h4 data-id="withoutBlanks">6.2.19. <code>withoutBlanks</code></h4>
</a>
</div>
<p>Same as <code>markdown</code> but without any blanks. This speeds things up at the expense of memory.</p>
<div class="h_tag">
<a href="#helpers" id="helpers" class="autoheader_anchor">
<h2 data-id="Helpers">7. Helpers</h2>
</a>
</div>
<p>This chapter discusses all methods that help converting APL arrays into Markdown.</p>
<nav class="sub-toc">
<p>Topics:</p>
<ul>
<li><a href="#matrix2markdownlist" class="bookmark_link">7.1. <code>Matrix2MarkdownList</code></a></li>
<li><a href="#matrix2markdowntable" class="bookmark_link">7.2. <code>Matrix2MarkdownTable</code></a></li>
</ul>
</nav>
<div class="h_tag">
<a href="#matrix2markdownlist" id="matrix2markdownlist" class="autoheader_anchor">
<h3 data-id="Matrix2MarkdownList">7.1. <code>Matrix2MarkdownList</code></h3>
</a>
</div>
<p>This helper method takes an APL matrix and converts it to a list definition in Markdown.</p>
<p>Note that the table must have three columns:</p>
<ol start="1">
<li>List type. A 0 defines a bulleted list. Any positive integer starts an ordered list, and defines at the same time the starting point.</li>
<li>Nesting level. The first row must start with nesting level 0 or 1.</li>
<li>Either a text vector or a vector of text vectors.</li>
</ol>
<p>Example:</p>
<pre tabindex="0"><code> m←''
 m,←⊂0 1 'Level 1 a bullet point'
 m,←⊂2 2 'Level 2 a num'
 m,←⊂2 2('Level 2 b num' '' 'Another para' '' '~~~' '{+⌿⍵}' '~~~')
 m,←⊂2 2 'Level 2 c num'
 md←MarkAPL.Matrix2MarkdownList⊃m
 ns←MarkAPL.Init''md
 ns←MarkAPL.Process ns</code></pre>
<p>leads to this list:</p>
<ul>
<li>Level 1 a bullet point
<ol start="2">
<li>Level 2 a num</li>
<li>Level 2 b num
<p>Another para</p>
<pre tabindex="0"><code>{+⌿⍵}</code></pre></li>
<li>Level 2 c num</li>
</ol></li>
</ul>
<div class="h_tag">
<a href="#matrix2markdowntable" id="matrix2markdowntable" class="autoheader_anchor">
<h3 data-id="Matrix2MarkdownTable">7.2. <code>Matrix2MarkdownTable</code></h3>
</a>
</div>
<p>Takes an APL matrix and converts it to a table definition in Markdown.</p>
<p>Without a left argument there are no column headers, and alignment is ruled by data type: strictly numeric columns are right-aligned, everything else is left-aligned:</p>
<pre tabindex="0"><code>      M←('APL' 99 'Really great')('Python' 70 'Nice')('Cobol' 1 'Oh dear')
      ⎕←MarkAPL.Matrix2MarkdownTable M
|-|--|-|
| APL | 99 | Really great |
| Python | 70 | Nice |
| Cobol | 1 | Oh dear |</code></pre>
<p>This results in this:</p>
<table>
<tbody>
<tr>
<td>APL</td>
<td style="text-align: right;">99</td>
<td>Really great</td>
</tr>
<tr>
<td>Python</td>
<td style="text-align: right;">70</td>
<td>Nice</td>
</tr>
<tr>
<td>Cobol</td>
<td style="text-align: right;">1</td>
<td>Oh dear</td>
</tr>
</tbody>
</table>
<p>You can specify column headers via the left argument. Naturally the length of the left argument must match the number of columns in the matrix. You can use leading and trailing colons (<code>:</code>) in order to define column alignment.</p>
<p>Note that any <code>|</code> in the matrix is automatically escaped except when it appears in code:</p>
<pre tabindex="0"><code>      ch←'Lang' 'Prod:Rank' ':Comment:'
      M←('APL' 99 'Really great')('Python' 70 'Nice')('Cobol' 1 'Oh|dear')
      ⎕←MarkAPL.Matrix2MarkdownTable M
| Lang | Prod:Rank | Comment |
|-|-|:-:|
| APL | 99 | Really great |
| Python | 70 | Nice `|`|
| Cobol | 1 | Oh\|dear |</code></pre>
<p>This results in this:</p>
<table>
<thead>
<tr>
<th style="text-align: left;"> Lang </th>
<th style="text-align: right;"> Prod:Rank </th>
<th> Comment </th>
</tr>
</thead>
<tbody>
<tr>
<td>APL</td>
<td style="text-align: right;">99</td>
<td style="text-align: center;">Really great</td>
</tr>
<tr>
<td>Python</td>
<td style="text-align: right;">70</td>
<td style="text-align: center;">Nice <code>|</code></td>
</tr>
<tr>
<td>Cobol</td>
<td style="text-align: right;">1</td>
<td style="text-align: center;">Oh|dear</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul>
<li>The first column is aligned to the left because the column title did not define anything and the data is not strictly numeric, therefore the default takes place which is left-aligned.</li>
<li>The second column is aligned to the right because the column title did not define anything and the data is numeric.</li>
<li>The third column is centered because that's what the column header defined.</li>
</ul>
<div class="h_tag">
<a href="#problems" id="problems" class="autoheader_anchor">
<h2 data-id="Problems">8. Problems</h2>
</a>
</div>
<div class="h_tag">
<a href="#bugs" id="bugs" class="autoheader_anchor">
<h3 data-id="Bugs">8.1. Bugs</h3>
</a>
</div>
<p>Please report any bugs to <a href="mailto:kai@aplteam.com" class="mailto_link">kai@aplteam.com</a>. I appreciate:</p>
<ul>
<li>The input (Markdown)</li>
<li>Any non-default settings of parameters</li>
<li>A short description of the problem (not as short as “It did not work!”)
<p>This is particularly important because I have received a number of bug reports where <code>MarkAPL</code> did <em>exactly</em> what it was supposed to do, so without knowing what the user expected I cannot explain why it did not fulfil the user's expectations, because it <em>did</em> work!</p>
<p>One gentleman even insisted that there was nothing to explain because it was a no-brainer. Well, it wasn't.</p>
<p>So please tell me what you expect to see.</p></li>
<li>The version number of <code>MarkAPL</code>.</li>
</ul>
<div class="h_tag">
<a href="#unexpected-results" id="unexpected-results" class="autoheader_anchor">
<h3 data-id="Unexpected-results">8.2. Unexpected results</h3>
</a>
</div>
<p>Before reporting a bug please check carefully your Markdown. More often than not mistakes in the Markdown are causing the problem.</p>
<p>If you cannot work out why it goes wrong report it to me – see the previous topic for how to report a problem.</p>
<p>This document refers to version 12.0 of <code>MarkAPL</code>.</p>
<p>Kai Jaeger ⋄ Last update 2023-12-06</p>
<div id="external_link_report" class="print_only">
<hr>
<p><strong>Link report</strong></p>
<ul>
<li><code>MarkAPL</code> project on GitHub:<br>https://github.com/aplteam/MarkAPL</li>
<li>Cider:<br>https://github.com/aplteam/Cider</li>
<li>Tatin package:<br>https://tatin.dev</li>
</ul>
</div>
<div id="footnotes_div">
<hr>
<p><strong>Footnotes</strong></p>
<ol>
<li id="fnref1"><p>The Markdown editor Meddy on GitHub:<br><a href="https://github.com/aplteam/Meddy" class="external_link">https://github.com/aplteam/Meddy</a></p><a href="#fnref1" class="footnote_anchor"></a>
<li id="fnref2"><p>Wikipedia definition of abandonware:<br><a href="https://www.wikiwand.com/en/Abandonware" class="external_link">https://www.wikiwand.com/en/Abandonware</a></p><a href="#fnref2" class="footnote_anchor"></a>
<li id="fnref3"><p>The CommonMark specification:<br><a href="http://spec.commonmark.org/" class="external_link">http://spec.commonmark.org/</a></p><a href="#fnref3" class="footnote_anchor"></a>
</ol>
</div>

<script>

// Adds a "Copy" button to every code block & established the event handler
const copyButtonLabel = " Copy " ;

let blocks = document.querySelectorAll("pre");

blocks.forEach((block) => {
  if (navigator.clipboard) {
    let button = document.createElement("button");

    button.innerText = copyButtonLabel;
    button.title = "Copies the code block to the clipboard.";
    block.appendChild(button);
     
    button.addEventListener("click", async () => {
      await copyCode(block, button);
    });
  }  
});  

async function copyCode(block, button) {
  let code = block.querySelector("code");
  let text = code.innerText;

  await navigator.clipboard.writeText(text);

  button.innerText = " Copied ";

  setTimeout(() => {
    button.innerText = copyButtonLabel;
  }, 700);
}


// Toggle the visibility of the TOC when the "Hide/Show" button is clicked
const button = document.querySelector("#toc-toggle");
const content = document.querySelector("#toc-list");
button.addEventListener("click", toggleTableOfContents);
function toggleTableOfContents() {
  content.classList.toggle("hide");
  if (button.innerText === "Hide") {
    button.innerText = "Show";
    button.setAttribute("aria-expanded", false);
  } else {
    button.innerText = "Hide";
    button.setAttribute("aria-expanded", true);
  }
}

</script>

</body>
</html>

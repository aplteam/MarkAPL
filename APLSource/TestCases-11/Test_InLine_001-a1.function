 R←Test_InLine_001(stopFlag batchFlag);⎕TRAP;m;ns
⍝ Test in-line mark-up; here * <==> <em>
 ⎕TRAP←(999 'C' '. ⍝ Deliberate error')(0 'N')
 R←∆Failed

 #.⎕SHADOW'TEMP'
 'TEMP'#.⎕NS''
 #.TEMP.m←'This is a simple paragraph'
 →FailsIf #.TEMP.m≢##.MarkAPL.Execute'ProcessAsterisks #.TEMP.m'

 #.TEMP.m←'This is a simple *paragraph*!'
 →FailsIf'This is a simple <em>paragraph</em>!'≢##.MarkAPL.Execute'ProcessAsterisks #.TEMP.m'

 #.TEMP.m←'This is a simple *paragraph* that h*as APL in it: `(2*5)÷0.5'
 →FailsIf'This is a simple <em>paragraph</em> that h<em>as APL in it: `(2*5)÷0.5'≢##.MarkAPL.Execute'ProcessAsterisks #.TEMP.m'

 #.TEMP.m←'APL * is * great'
 →FailsIf'APL * is * great'≢##.MarkAPL.Execute'ProcessAsterisks #.TEMP.m'

 R←∆OK

 R←Test_SpecialAttrs_024(stopFlag batchFlag);⎕TRAP;md;ns;parms
⍝ Test special attributes for header: ID should go in the bookmark anchor while the rest goes to the <h{n} tag.
 ⎕TRAP←(999 'C' '. ⍝ Deliberate error')(0 'N')
 R←∆Failed

 md←''
 md,←⊂'Header level 1 (SeText){.header1 ##foo1 style="color:red;"}'
 md,←⊂'==============================='
 md,←⊂''
 md,←⊂'## Header level 2 (ATX){.header2 ##foo2 style="color:red;"}'
 md,←⊂''

 parms←##.MarkAPL.CreateParms
 parms.numberHeaders←6                  ⍝ Number ALL headers
 parms.verbose←0

 ns←##.MarkAPL.Init parms md
 ns←##.MarkAPL.Process ns

 →PassesIf(⊂'<a href="##foo1" id="#foo1" class="autoheader_anchor">')∊ns.html
 →PassesIf(⊂'<h1 class="header1" style="color:red;">1. Header level 1 (SeText)</h1>')∊ns.html
 →PassesIf(⊂'<a href="##foo2" id="#foo2" class="autoheader_anchor">')∊ns.html
 →PassesIf(⊂'<h2 class="header2" style="color:red;">1.1. Header level 2 (ATX)</h2>')∊ns.html

 R←∆OK
